<%= form_for(@product, {:url => url_for(:controller => controller.controller_name, :action => ['update','edit'].include?(controller.action_name) ? 'update' : 'create'), remote: true,  authenticity_token: true, :html => {:multipart => true, :class=>'form-horizontal'}}) do |f| %>
  <div class="modal-dialog" style="width: 800px">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h4 class="modal-title"><%= ['update','edit'].include?(controller.action_name) ? "Update" : "New" %> Product</h4>
      </div>
      <div class="overlay">
        <i id="loading_form_icon" class="glyphicon glyphicon-refresh glyphicon-spin"></i>
      </div>
      <div class="modal-body z-background">
        <% if f.object.errors[:base].size > 0 %>
          <div class="alert alert-danger" role="alert">
            <ul>
              <% f.object.errors[:base].uniq.each do | message| %>
                <li><%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        <%= f.submit :class => "btn btn-primary", :value => ['update','edit'].include?(controller.action_name) ? "Update" : "Create" %>
      </div>
    </div>
  </div>
<% end %>

<% content_for :scripts do %>

<% end %>
